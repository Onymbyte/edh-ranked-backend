{% extends "base.html" %}
{% block title %}{{profile.username}} - Profile{% endblock %}
{% block content %}

<div class="container py-5">
    <h1 class="text-center mb-4">{{profile.username}}'s Profile</h1>

    <div class="row">
        <div class="col-md-6">
            <h2>Play Ratings</h2>
            {% if play|length > 0 %}
            <table class="table table-striped">
                <thead><tr>
                    <th>Commander</th>
                    <th>Stars</th>
                    <th>Review</th>
                    <th>Post Time</th>
                </tr></thead>
                <tbody>
                    {% for rev, listing in play | zip(playListings) %}
                    <tr>
                        <td><a href="{{url_for('listing', listing_id=listing.id)}}">{{listing.name}}</a></td>
                        <td>{{rev.star}} ðŸŒŸ</td>
                        <td>{% if rev.review %}{{rev.review}} {% else %}[No Review]{% endif %}</td>
                        <td>{{rev.timestamp}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p>No play ratings yet.</p>
            {% endif %}
        </div>

        <div class="col-md-6">
            <h2>Enemy Ratings</h2>
            {% if enemy|length > 0 %}
            <table class="table table-striped">
                <thead><tr>
                    <th>Commander</th>
                    <th>Stars</th>
                    <th>Review</th>
                    <th>Post Time</th>
                </tr></thead>
                <tbody>
                    {% for rev, listing in enemy | zip(enemyListings) %}
                    <tr>
                        <td><a href="{{url_for('listing', listing_id=listing.id)}}">{{listing.name}}</a></td>
                        <td>{{rev.star}} ðŸŒŸ</td>
                        <td>{% if rev.review %}{{rev.review}} {% else %}[No Review]{% endif %}</td>
                        <td>{{rev.timestamp}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p>No enemy ratings yet.</p>
            {% endif %}
        </div>
    </div>

    <div class="row mt-5">
        <div class="col">
            <h2>Comments</h2>
            {% if comments|length > 0 %}
            <table class="table table-striped table-responsive">
                <thead><tr>
                    <th>Commander</th>
                    <th>Comment</th>
                    <th>Post Time</th>
                </tr></thead>
                <tbody>
                    {% for comment, listing in comments | zip(commentsListings) %}
                    <tr>
                        <td><a href="{{url_for('listing', listing_id=listing.id)}}">{{listing.name}}</a></td>
                        <td>{{comment.comment}}</td>
                        <td>{{comment.timestamp}}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% else %}
            <p>No comments yet.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}